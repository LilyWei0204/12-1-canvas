<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        canvas{
            background-color: #ccc;
        }
    </style>
</head>
<body>
<canvas width="600" height="600"></canvas>

</body>
</html>
<script>
    var canvas=document.querySelector("canvas");
    var cobj=canvas.getContext("2d");
    var cx,cy;
    canvas.onmousemove=function(e){
        cx= e.offsetX;
        cy= e.offsetY;
    }
    function fire(){
        this.x=cx;
        this.y=cy;
        this.r=5+5*Math.random();
        this.color="rgb(226,17,12)";
        this.speedy=-4*Math.random()-4;
        this.speedr=0.8;
        this.life=4;
        this.speedl=0.3;
    }
    fire.prototype={
        draw:function(){
            cobj.beginPath();
            cobj.save();
            cobj.translate(this.x,this.y);
            cobj.globalCompositeOperation="lighter";
            cobj.fillStyle=this.color;
            cobj.arc(0,0,this.r,0,2*Math.PI);
            cobj.fill();
            cobj.restore();

        },
        update:function(){
            this.x+=(4*Math.random()-2);
            this.y+=this.speedy;
            this.r-=this.speedr;
            this.life-=this.speedl;

        }
    }
    var arr=[];
    setInterval(function(){
        cobj.clearRect(0,0,600,600);
        arr.push(new fire());
        for(var i=0;i<arr.length;i++){
            arr[i].draw();
            arr[i].update();
            if(arr[i].r<0||arr[i].life<0){
                arr[i]=new fire();
            }

        }
        if(arr.length>200){
            arr.shift();
        }
    },100)
</script>